---
const { id, type, label, placeholder, required } = Astro.props;
---

<label
  for={id}
  class="inline-flex w-full border text-lg pl-6 uppercase text-tertiary-700 bg-primary-50 font-medium items-baseline font-mono"
  data-required={required}
  >{label}{
    type === 'textarea' ? (
      <textarea
        id={id}
        placeholder={placeholder}
        class="py-6 pr-6 pl-3 w-full text-primary-900 text-lg font-sans"
        rows="3"
        required={required}
      />
    ) : (
      <input
        type={type}
        id={id}
        placeholder={placeholder}
        class="py-6 pr-6 pl-3 w-full text-primary-900 text-xl font-sans"
        required={required}
      />
    )
  }</label
>

<style>
  input:focus-visible,
  textarea:focus-visible {
    outline: none;
  }

  label {
    font-variant-caps: all-small-caps;
  }

  input,
  textarea {
    font-variant-caps: normal;
  }

  label[data-required='true']::before {
    content: '*';
    opacity: 0.6;
    margin-right: 4px;
    font-size: 14px;
  }

  :global(form.was-validated)
    label[data-required='true']:has(input:invalid)::before,
  :global(form.was-validated)
    label[data-required='true']:has(textarea:invalid)::before {
    color: red;
    opacity: 1;
  }
</style>
